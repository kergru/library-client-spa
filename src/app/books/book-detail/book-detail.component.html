<div class="container mt-5">
  @if (state$ | async; as state) {
    @if (state.loading) {
      <div class="alert alert-info">Buch wird geladen...</div>
    } @else if (state.error) {
      <div class="alert alert-danger">{{ state.error }}</div>
    } @else if (state.book) {
      <div class="row">
        <div class="col-md-8 offset-md-2">

          <!-- Zurück-Button -->
          <a [routerLink]="['/books']" class="btn btn-secondary mb-4">← Zurück zur Übersicht</a>

          <!-- Buchdetails in einer Card -->
          <div class="card book-details">
            <div class="card-header d-flex justify-content-between align-items-center">
              <h1 class="h3 mb-0">{{ state.book.title || 'Unbekannter Titel' }}</h1>
              @if (state.book.loanStatus?.available) {
                <span class="badge bg-success">Verfügbar</span>
              } @else {
                <span class="badge bg-danger">Ausgeliehen</span>
              }
            </div>

            <div class="card-body">
              <p><strong>Autor:</strong> {{ state.book.author || 'Unbekannt' }}</p>
              <p><strong>ISBN:</strong> {{ state.book.isbn || 'Nicht verfügbar' }}</p>

              @if (state.book.description) {
                <div class="mt-3">
                  <h5>Beschreibung:</h5>
                  <p>{{ state.book.description }}</p>
                </div>
              } @else {
                <p class="text-muted">Keine Beschreibung verfügbar.</p>
              }
            </div>
          </div>
        </div>
      </div>
    }
  }
</div>
